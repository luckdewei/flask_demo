<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <style>
        /* Flash Messages 样式 */
        .flash-messages {
            margin: 20px 0;
        }
        .flash-message {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            border-left: 4px solid;
        }
        .flash-success {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        .flash-error {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        .flash-info {
            background-color: #d1ecf1;
            border-color: #17a2b8;
            color: #0c5460;
        }
        .flash-warning {
            background-color: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }
    </style>
</head>
<body>
    <!-- 显示Flash Messages -->
    <!-- get_flashed_messages可以获取所有的flash消息 -->
    <!-- with_categories=true 表示同时还要获取消息的级别 -->
    <!-- with 表示使用 messages临时存储消息 -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category,message in messages%}
                    <div class="flash-message flash-{{category}}">
                        {{message}}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    {% if session.username %}
        <p>当前用户:{{session.username}}</p>
        <a href="{{url_for('logout')}}">登出</a>
        <a href="/logout">登出</a>
    {% endif %}
</body>
</html>